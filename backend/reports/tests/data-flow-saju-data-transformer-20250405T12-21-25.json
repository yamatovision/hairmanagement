{"numFailedTestSuites":1,"numFailedTests":5,"numPassedTestSuites":0,"numPassedTests":22,"numPendingTestSuites":0,"numPendingTests":0,"numRuntimeErrorTestSuites":0,"numTodoTests":0,"numTotalTestSuites":1,"numTotalTests":27,"openHandles":[],"snapshot":{"added":0,"didUpdate":false,"failure":false,"filesAdded":0,"filesRemoved":0,"filesRemovedList":[],"filesUnmatched":0,"filesUpdated":0,"matched":0,"total":0,"unchecked":0,"uncheckedKeysByFile":[],"unmatched":0,"updated":0},"startTime":1743823285770,"success":false,"testResults":[{"assertionResults":[{"ancestorTitles":["SajuDataTransformer","extractElementalInfo"],"duration":25,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer extractElementalInfo 甲日（陽木）の場合、正しい五行と陰陽を返す","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"甲日（陽木）の場合、正しい五行と陰陽を返す"},{"ancestorTitles":["SajuDataTransformer","extractElementalInfo"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer extractElementalInfo 丁日（陰火）の場合、正しい五行と陰陽を返す","invocations":1,"location":null,"numPassingAsserts":3,"retryReasons":[],"status":"passed","title":"丁日（陰火）の場合、正しい五行と陰陽を返す"},{"ancestorTitles":["SajuDataTransformer","extractElementalInfo"],"duration":31,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer extractElementalInfo 不完全な四柱の場合、エラーをスローする","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"不完全な四柱の場合、エラーをスローする"},{"ancestorTitles":["SajuDataTransformer","extractElementalInfo"],"duration":3,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer extractElementalInfo 無効な天干の場合、エラーをスローする","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"無効な天干の場合、エラーをスローする"},{"ancestorTitles":["SajuDataTransformer","createFortuneCompatibilityData"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer createFortuneCompatibilityData 有効な入力の場合、正しいSajuDataを返す","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"有効な入力の場合、正しいSajuDataを返す"},{"ancestorTitles":["SajuDataTransformer","createFortuneCompatibilityData"],"duration":4,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer createFortuneCompatibilityData カレンダー情報がnullの場合、エラーを返す","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"カレンダー情報がnullの場合、エラーを返す"},{"ancestorTitles":["SajuDataTransformer","createFortuneCompatibilityData"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer createFortuneCompatibilityData 不完全なカレンダー情報の場合、エラーを返す","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"不完全なカレンダー情報の場合、エラーを返す"},{"ancestorTitles":["SajuDataTransformer","createFortuneCompatibilityData"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer createFortuneCompatibilityData 無効なユーザー日主の場合、エラーを返す","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"無効なユーザー日主の場合、エラーを返す"},{"ancestorTitles":["SajuDataTransformer","createFortuneCompatibilityData"],"duration":6,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer createFortuneCompatibilityData 無効なユーザー主要五行の場合、フォールバック値を使用する","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"無効なユーザー主要五行の場合、フォールバック値を使用する"},{"ancestorTitles":["SajuDataTransformer","createFortuneCompatibilityData"],"duration":7,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer createFortuneCompatibilityData 天干十神計算エラー時、フォールバック値を使用する","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"天干十神計算エラー時、フォールバック値を使用する"},{"ancestorTitles":["SajuDataTransformer","calculateTenGodRelation（プライベートメソッド）"],"duration":2,"failureDetails":[{"matcherResult":{"actual":"日主","expected":"比肩","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"比肩\"\nReceived: \"日主\"","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"比肩\"\nReceived: \"日主\"\n    at Object.<anonymous> (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/src/tests/saju/saju-data-transformer.test.ts:305:41)\n    at Promise.then.completed (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SajuDataTransformer calculateTenGodRelation（プライベートメソッド） 同じ天干の場合、「比肩」を返す","invocations":1,"location":null,"numPassingAsserts":0,"retryReasons":[],"status":"failed","title":"同じ天干の場合、「比肩」を返す"},{"ancestorTitles":["SajuDataTransformer","calculateTenGodRelation（プライベートメソッド）"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer calculateTenGodRelation（プライベートメソッド） 甲と乙（同じ五行で陰陽が異なる）の場合、「劫財」を返す","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"甲と乙（同じ五行で陰陽が異なる）の場合、「劫財」を返す"},{"ancestorTitles":["SajuDataTransformer","calculateTenGodRelation（プライベートメソッド）"],"duration":1,"failureDetails":[{"matcherResult":{"actual":"食神","expected":"傷官","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"傷官\"\nReceived: \"食神\"","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"傷官\"\nReceived: \"食神\"\n    at Object.<anonymous> (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/src/tests/saju/saju-data-transformer.test.ts:316:41)\n    at Promise.then.completed (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SajuDataTransformer calculateTenGodRelation（プライベートメソッド） 甲と丙（木と火）の場合、「食神/傷官」を返す","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"甲と丙（木と火）の場合、「食神/傷官」を返す"},{"ancestorTitles":["SajuDataTransformer","calculateTenGodRelation（プライベートメソッド）"],"duration":0,"failureDetails":[{"matcherResult":{"actual":"偏印","expected":"正印","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"正印\"\nReceived: \"偏印\"","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"正印\"\nReceived: \"偏印\"\n    at Object.<anonymous> (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/src/tests/saju/saju-data-transformer.test.ts:321:41)\n    at Promise.then.completed (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SajuDataTransformer calculateTenGodRelation（プライベートメソッド） 丙と甲（火と木）の場合、「偏印/正印」を返す","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"丙と甲（火と木）の場合、「偏印/正印」を返す"},{"ancestorTitles":["SajuDataTransformer","calculateSimpleBranchTenGod（プライベートメソッド）"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer calculateSimpleBranchTenGod（プライベートメソッド） 甲と子（木と水）の場合、「偏印」を返す","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"甲と子（木と水）の場合、「偏印」を返す"},{"ancestorTitles":["SajuDataTransformer","calculateSimpleBranchTenGod（プライベートメソッド）"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer calculateSimpleBranchTenGod（プライベートメソッド） 丙と寅（火と木）の場合、「偏印」を返す","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"丙と寅（火と木）の場合、「偏印」を返す"},{"ancestorTitles":["SajuDataTransformer","calculateSimpleBranchTenGod（プライベートメソッド）"],"duration":0,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer calculateSimpleBranchTenGod（プライベートメソッド） 辛と午（金と火）の場合、「正官」を返す","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"辛と午（金と火）の場合、「正官」を返す"},{"ancestorTitles":["SajuDataTransformer","calculateCompatibilityScore（プライベートメソッド）"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer calculateCompatibilityScore（プライベートメソッド） 基本的な相性スコア計算","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"基本的な相性スコア計算"},{"ancestorTitles":["SajuDataTransformer","calculateCompatibilityScore（プライベートメソッド）"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer calculateCompatibilityScore（プライベートメソッド） 五行相性による調整","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"五行相性による調整"},{"ancestorTitles":["SajuDataTransformer","calculateCompatibilityScore（プライベートメソッド）"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer calculateCompatibilityScore（プライベートメソッド） 十神関係による調整","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"十神関係による調整"},{"ancestorTitles":["SajuDataTransformer","calculateCompatibilityScore（プライベートメソッド）"],"duration":8,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer calculateCompatibilityScore（プライベートメソッド） データ検証と安全性","invocations":1,"location":null,"numPassingAsserts":2,"retryReasons":[],"status":"passed","title":"データ検証と安全性"},{"ancestorTitles":["SajuDataTransformer","combineFortuneWithCalendarInfo"],"duration":2,"failureDetails":[{"matcherResult":{"expected":"test-calendar-id","message":"expect(received).toBe(expected) // Object.is equality\n\nExpected: \"test-calendar-id\"\nReceived: undefined","name":"toBe","pass":false}}],"failureMessages":["Error: expect(received).toBe(expected) // Object.is equality\n\nExpected: \"test-calendar-id\"\nReceived: undefined\n    at Object.<anonymous> (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/src/tests/saju/saju-data-transformer.test.ts:462:42)\n    at Promise.then.completed (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SajuDataTransformer combineFortuneWithCalendarInfo 運勢データとカレンダー情報を正しく組み合わせる","invocations":1,"location":null,"numPassingAsserts":14,"retryReasons":[],"status":"failed","title":"運勢データとカレンダー情報を正しく組み合わせる"},{"ancestorTitles":["SajuDataTransformer","combineFortuneWithCalendarInfo"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer combineFortuneWithCalendarInfo カレンダー情報が提供されない場合、デフォルト値を使用","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"カレンダー情報が提供されない場合、デフォルト値を使用"},{"ancestorTitles":["SajuDataTransformer","combineFortuneWithCalendarInfo"],"duration":2,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer combineFortuneWithCalendarInfo 運勢データが提供されない場合、デフォルト運勢を作成","invocations":1,"location":null,"numPassingAsserts":8,"retryReasons":[],"status":"passed","title":"運勢データが提供されない場合、デフォルト運勢を作成"},{"ancestorTitles":["SajuDataTransformer","extractBranchTenGods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer extractBranchTenGods 四柱推命プロファイルから地支十神情報を正しく抽出する","invocations":1,"location":null,"numPassingAsserts":5,"retryReasons":[],"status":"passed","title":"四柱推命プロファイルから地支十神情報を正しく抽出する"},{"ancestorTitles":["SajuDataTransformer","extractBranchTenGods"],"duration":0,"failureDetails":[{"matcherResult":{"message":"expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 4\nReceived number of calls: 0","pass":false}}],"failureMessages":["Error: expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\nExpected number of calls: 4\nReceived number of calls: 0\n    at Object.<anonymous> (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/src/tests/saju/saju-data-transformer.test.ts:575:36)\n    at Promise.then.completed (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/utils.js:298:28)\n    at new Promise (<anonymous>)\n    at callAsyncCircusFn (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/utils.js:231:10)\n    at _callCircusTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:316:40)\n    at processTicksAndRejections (node:internal/process/task_queues:95:5)\n    at _runTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:252:3)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:126:9)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:121:9)\n    at _runTestsForDescribeBlock (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:121:9)\n    at run (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/run.js:71:3)\n    at runAndTransformResultsToJestFormat (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapterInit.js:122:21)\n    at jestAdapter (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-circus/build/legacy-code-todo-rewrite/jestAdapter.js:79:19)\n    at runTestInternal (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-runner/build/runTest.js:367:16)\n    at runTest (/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/node_modules/jest-runner/build/runTest.js:444:34)"],"fullName":"SajuDataTransformer extractBranchTenGods 既存のbranchTenGodsがない場合、簡易計算を行う","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"failed","title":"既存のbranchTenGodsがない場合、簡易計算を行う"},{"ancestorTitles":["SajuDataTransformer","extractBranchTenGods"],"duration":1,"failureDetails":[],"failureMessages":[],"fullName":"SajuDataTransformer extractBranchTenGods 無効なプロファイルの場合、nullを返す","invocations":1,"location":null,"numPassingAsserts":1,"retryReasons":[],"status":"passed","title":"無効なプロファイルの場合、nullを返す"}],"endTime":1743823287633,"message":"  ● SajuDataTransformer › calculateTenGodRelation（プライベートメソッド） › 同じ天干の場合、「比肩」を返す\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"比肩\"\n    Received: \"日主\"\n\n      303 |\n      304 |     test('同じ天干の場合、「比肩」を返す', () => {\n    > 305 |       expect(calculateTenGod('甲', '甲')).toBe('比肩');\n          |                                         ^\n      306 |       expect(calculateTenGod('丙', '丙')).toBe('比肩');\n      307 |     });\n      308 |\n\n      at Object.<anonymous> (src/tests/saju/saju-data-transformer.test.ts:305:41)\n\n  ● SajuDataTransformer › calculateTenGodRelation（プライベートメソッド） › 甲と丙（木と火）の場合、「食神/傷官」を返す\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"傷官\"\n    Received: \"食神\"\n\n      314 |     test('甲と丙（木と火）の場合、「食神/傷官」を返す', () => {\n      315 |       expect(calculateTenGod('甲', '丙')).toBe('食神'); // 陽木から見た陽火は食神\n    > 316 |       expect(calculateTenGod('甲', '丁')).toBe('傷官'); // 陽木から見た陰火は傷官\n          |                                         ^\n      317 |     });\n      318 |\n      319 |     test('丙と甲（火と木）の場合、「偏印/正印」を返す', () => {\n\n      at Object.<anonymous> (src/tests/saju/saju-data-transformer.test.ts:316:41)\n\n  ● SajuDataTransformer › calculateTenGodRelation（プライベートメソッド） › 丙と甲（火と木）の場合、「偏印/正印」を返す\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"正印\"\n    Received: \"偏印\"\n\n      319 |     test('丙と甲（火と木）の場合、「偏印/正印」を返す', () => {\n      320 |       expect(calculateTenGod('丙', '甲')).toBe('偏印'); // 陽火から見た陽木は偏印\n    > 321 |       expect(calculateTenGod('丙', '乙')).toBe('正印'); // 陽火から見た陰木は正印\n          |                                         ^\n      322 |     });\n      323 |   });\n      324 |\n\n      at Object.<anonymous> (src/tests/saju/saju-data-transformer.test.ts:321:41)\n\n  ● SajuDataTransformer › combineFortuneWithCalendarInfo › 運勢データとカレンダー情報を正しく組み合わせる\n\n    expect(received).toBe(expected) // Object.is equality\n\n    Expected: \"test-calendar-id\"\n    Received: undefined\n\n      460 |       expect(result.fourPillars.day.stem).toBe('丙');\n      461 |       expect(result.fourPillars.day.branch).toBe('寅');\n    > 462 |       expect(result.dailyCalendarInfoId).toBe('test-calendar-id');\n          |                                          ^\n      463 |     });\n      464 |\n      465 |     test('カレンダー情報が提供されない場合、デフォルト値を使用', () => {\n\n      at Object.<anonymous> (src/tests/saju/saju-data-transformer.test.ts:462:42)\n\n  ● SajuDataTransformer › extractBranchTenGods › 既存のbranchTenGodsがない場合、簡易計算を行う\n\n    expect(jest.fn()).toHaveBeenCalledTimes(expected)\n\n    Expected number of calls: 4\n    Received number of calls: 0\n\n      573 |       // 結果を検証\n      574 |       expect(result).toBeDefined();\n    > 575 |       expect(mockCalcBranchTenGod).toHaveBeenCalledTimes(4); // 4つの柱すべてに対して呼び出される\n          |                                    ^\n      576 |       expect(result?.year).toBe('比肩');\n      577 |       expect(result?.month).toBe('比肩');\n      578 |       expect(result?.day).toBe('比肩');\n\n      at Object.<anonymous> (src/tests/saju/saju-data-transformer.test.ts:575:36)\n","name":"/Users/tatsuya/Desktop/システム開発/AppGenius2/patrolmanagement/backend/src/tests/saju/saju-data-transformer.test.ts","startTime":1743823285887,"status":"failed","summary":""}],"wasInterrupted":false}
