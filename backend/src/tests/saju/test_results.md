# SajuEngine テスト結果レポート

**実行日時**: 2025/4/2 13:23:02
**テスト総数**: 56件

## 1. 全体の統計情報

- **総テスト数**: 56件
- **総検証ポイント**: 224箇所 (年柱・月柱・日柱・時柱)
- **一致したポイント**: 120箇所
- **全体の成功率**: 53.57%

### 柱ごとの成功率

- **年柱**: 54/56 (96.43%)
- **月柱**: 43/56 (76.79%)
- **日柱**: 16/56 (28.57%)
- **時柱**: 7/56 (12.50%)

### 一致数の分布

- **完全一致 (4柱)**: 7件 (12.50%)
- **3柱一致**: 9件 (16.07%)
- **2柱一致**: 25件 (44.64%)
- **1柱一致**: 15件 (26.79%)
- **不一致 (0柱)**: 0件 (0.00%)

## 2. 不一致パターン分析

### 年柱の不一致パターン

| 変換パターン | 件数 |
|------------|------|
| 壬寅 → 癸卯 | 1 |
| 辛丑 → 壬寅 | 1 |

### 月柱の不一致パターン

| 変換パターン | 件数 |
|------------|------|
| 庚申 → 己未 | 5 |
| 壬子 → 甲子 | 3 |
| 己未 → 甲午 | 2 |
| 甲寅 → 癸丑 | 1 |
| 丁巳 → 甲辰 | 1 |
| 丁巳 → 乙巳 | 1 |

### 日柱の不一致パターン

| 変換パターン | 件数 |
|------------|------|
| 壬午 → 甲戌 | 5 |
| 壬辰 → 庚寅 | 3 |
| 癸巳 → 辛卯 | 2 |
| 辛巳 → 己卯 | 1 |
| 庚子 → 戊戌 | 1 |
| 乙酉 → 癸未 | 1 |
| 丁丑 → 乙亥 | 1 |
| 癸亥 → 辛酉 | 1 |
| 丁酉 → 乙未 | 1 |
| 己巳 → 丁卯 | 1 |
| 癸丑 → 辛亥 | 1 |
| 甲午 → 壬辰 | 1 |
| 乙未 → 癸巳 | 1 |
| 丙申 → 甲午 | 1 |
| 丙子 → 甲戌 | 1 |
| 丙戌 → 丁丑 | 1 |
| 辛酉 → 壬辰 | 1 |
| 乙未 → 丁未 | 1 |
| 己卯 → 甲申 | 1 |
| 庚辰 → 乙酉 | 1 |
| 丁亥 → 丙辰 | 1 |
| 丁亥 → 戊午 | 1 |
| 戊子 → 丙午 | 1 |
| 己丑 → 丁未 | 1 |
| 丁酉 → 庚午 | 1 |
| 丁酉 → 壬申 | 1 |
| 己未 → 己酉 | 1 |
| 甲戌 → 戊午 | 1 |
| 己卯 → 辛酉 | 1 |
| 乙亥 → 己未 | 1 |
| 丙子 → 庚申 | 1 |
| 丁丑 → 辛酉 | 1 |
| 戊寅 → 壬戌 | 1 |

### 時柱の不一致パターン

| 変換パターン | 件数 |
|------------|------|
| 庚子 → 丙子 | 5 |
| 甲子 → 庚子 | 5 |
| 壬子 → 戊子 | 4 |
| 丙午 → 癸午 | 4 |
| 戊子 → 甲子 | 3 |
| 丙子 → 壬子 | 3 |
| 甲午 → 辛午 | 3 |
| 壬午 → 己午 | 2 |
| 丙午 → 丁午 | 2 |
| 戊午 → 乙午 | 1 |
| 丁巳 → 丁午 | 1 |
| 丁巳 → 己午 | 1 |
| 庚子 → 戊子 | 1 |
| 丙午 → 乙午 | 1 |
| 丙午 → 辛午 | 1 |
| 戊子 → 丙子 | 1 |
| 甲午 → 癸午 | 1 |
| 甲亥 → 癸亥 | 1 |
| 甲子 → 戊子 | 1 |
| 戊午 → 己午 | 1 |
| 庚午 → 辛午 | 1 |
| 壬午 → 癸午 | 1 |
| 庚丑 → 甲子 | 1 |
| 壬寅 → 乙丑 | 1 |
| 甲卯 → 丁卯 | 1 |
| 丙辰 → 戊辰 | 1 |
| 戊巳 → 己巳 | 1 |

## 3. 詳細テスト結果

| 説明 | 期待値 | 計算結果 | 一致 |
|------|--------|---------|------|
| 1970年1月1日 0時 - 男性 ソウル | 年柱[己酉] 月柱[丙子] 日柱[辛巳] 時柱[戊子] | 年柱[己酉] 月柱[丙子] 日柱[己卯] 時柱[甲子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 1985年1月1日 0時 - 男性 ソウル | 年柱[甲子] 月柱[丙子] 日柱[庚子] 時柱[丙子] | 年柱[甲子] 月柱[丙子] 日柱[戊戌] 時柱[壬子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 1995年1月1日 0時 - 男性 ソウル | 年柱[甲戌] 月柱[丙子] 日柱[壬辰] 時柱[庚子] | 年柱[甲戌] 月柱[丙子] 日柱[庚寅] 時柱[丙子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2005年1月1日 0時 - 男性 ソウル | 年柱[甲申] 月柱[丙子] 日柱[乙酉] 時柱[丙子] | 年柱[甲申] 月柱[丙子] 日柱[癸未] 時柱[壬子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2015年1月1日 0時 - 男性 ソウル | 年柱[甲午] 月柱[丙子] 日柱[丁丑] 時柱[庚子] | 年柱[甲午] 月柱[丙子] 日柱[乙亥] 時柱[丙子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年2月3日 0時 (立春前) - 女性 ソウル | 年柱[壬寅] 月柱[癸丑] 日柱[壬辰] 時柱[庚子] | 年柱[癸卯] 月柱[癸丑] 日柱[庚寅] 時柱[丙子] | 年[✗] 月[✓] 日[✗] 時[✗] |
| 2023年2月4日 0時 (立春) - 女性 ソウル | 年柱[癸卯] 月柱[甲寅] 日柱[癸巳] 時柱[壬子] | 年柱[癸卯] 月柱[癸丑] 日柱[辛卯] 時柱[戊子] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 2023年5月5日 0時 (立夏前) - 女性 ソウル | 年柱[癸卯] 月柱[丙辰] 日柱[癸亥] 時柱[壬子] | 年柱[癸卯] 月柱[丙辰] 日柱[辛酉] 時柱[戊子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年8月7日 0時 (立秋前) - 女性 ソウル | 年柱[癸卯] 月柱[己未] 日柱[丁酉] 時柱[庚子] | 年柱[癸卯] 月柱[己未] 日柱[乙未] 時柱[丙子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年11月7日 0時 (立冬前) - 女性 ソウル | 年柱[癸卯] 月柱[壬戌] 日柱[己巳] 時柱[甲子] | 年柱[癸卯] 月柱[壬戌] 日柱[丁卯] 時柱[庚子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年12月21日 0時 (冬至) - 女性 ソウル | 年柱[癸卯] 月柱[甲子] 日柱[癸丑] 時柱[壬子] | 年柱[癸卯] 月柱[甲子] 日柱[辛亥] 時柱[戊子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年10月1日 0時 - 女性 ソウル | 年柱[癸卯] 月柱[辛酉] 日柱[壬辰] 時柱[庚子] | 年柱[癸卯] 月柱[辛酉] 日柱[庚寅] 時柱[丙子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年10月2日 0時 - 女性 ソウル | 年柱[癸卯] 月柱[辛酉] 日柱[癸巳] 時柱[壬子] | 年柱[癸卯] 月柱[辛酉] 日柱[辛卯] 時柱[戊子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年10月3日 0時 - 女性 ソウル | 年柱[癸卯] 月柱[辛酉] 日柱[甲午] 時柱[甲子] | 年柱[癸卯] 月柱[辛酉] 日柱[壬辰] 時柱[庚子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年10月4日 0時 - 女性 ソウル | 年柱[癸卯] 月柱[辛酉] 日柱[乙未] 時柱[丙子] | 年柱[癸卯] 月柱[辛酉] 日柱[癸巳] 時柱[壬子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年10月5日 0時 - 女性 ソウル | 年柱[癸卯] 月柱[辛酉] 日柱[丙申] 時柱[戊子] | 年柱[癸卯] 月柱[辛酉] 日柱[甲午] 時柱[甲子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年10月15日 1時 (子の刻) - 女性 ソウル | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[戊子] | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[戊子] | 年[✓] 月[✓] 日[✓] 時[✓] |
| 2023年10月15日 5時 (卯の刻) - 女性 ソウル | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[庚寅] | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[庚寅] | 年[✓] 月[✓] 日[✓] 時[✓] |
| 2023年10月15日 9時 (午の刻) - 女性 ソウル | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[壬辰] | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[壬辰] | 年[✓] 月[✓] 日[✓] 時[✓] |
| 2023年10月15日 13時 (未の刻) - 女性 ソウル | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[甲午] | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[辛午] | 年[✓] 月[✓] 日[✓] 時[✗] |
| 2023年10月15日 17時 (酉の刻) - 女性 ソウル | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[丙申] | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[丙申] | 年[✓] 月[✓] 日[✓] 時[✓] |
| 2023年10月15日 21時 (亥の刻) - 女性 ソウル | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[戊戌] | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[戊戌] | 年[✓] 月[✓] 日[✓] 時[✓] |
| 1990年5月15日 12時 - 女性 ソウル | 年柱[庚午] 月柱[辛巳] 日柱[庚辰] 時柱[壬午] | 年柱[庚午] 月柱[辛巳] 日柱[庚辰] 時柱[己午] | 年[✓] 月[✓] 日[✓] 時[✗] |
| 1990年5月15日 12時 - 男性 ソウル | 年柱[庚午] 月柱[辛巳] 日柱[庚辰] 時柱[壬午] | 年柱[庚午] 月柱[辛巳] 日柱[庚辰] 時柱[己午] | 年[✓] 月[✓] 日[✓] 時[✗] |
| 2023年10月15日 12時 - 男性 東京 | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[甲午] | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[辛午] | 年[✓] 月[✓] 日[✓] 時[✗] |
| 2023年10月15日 12時 - 男性 ソウル | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[甲午] | 年柱[癸卯] 月柱[壬戌] 日柱[丙午] 時柱[辛午] | 年[✓] 月[✓] 日[✓] 時[✗] |
| 1987年5月8日 11時 - 女性 ソウル | 年柱[丁卯] 月柱[乙巳] 日柱[丁巳] 時柱[乙巳] | 年柱[丁卯] 月柱[乙巳] 日柱[丁巳] 時柱[乙巳] | 年[✓] 月[✓] 日[✓] 時[✓] |
| 1987年5月8日 12時 - 女性 ソウル | 年柱[丁卯] 月柱[乙巳] 日柱[丁巳] 時柱[丙午] | 年柱[丁卯] 月柱[乙巳] 日柱[丁巳] 時柱[癸午] | 年[✓] 月[✓] 日[✓] 時[✗] |
| 1987年5月8日 13時 - 女性 ソウル | 年柱[丁卯] 月柱[乙巳] 日柱[丁巳] 時柱[丙午] | 年柱[丁卯] 月柱[乙巳] 日柱[丁巳] 時柱[癸午] | 年[✓] 月[✓] 日[✓] 時[✗] |
| 1986年6月1日 23時 - 女性 ソウル | 年柱[丙寅] 月柱[癸巳] 日柱[丙子] 時柱[己亥] | 年柱[丙寅] 月柱[癸巳] 日柱[丙子] 時柱[己亥] | 年[✓] 月[✓] 日[✓] 時[✓] |
| 1986年6月1日 0時 - 女性 ソウル | 年柱[丙寅] 月柱[癸巳] 日柱[丙子] 時柱[戊子] | 年柱[丙寅] 月柱[癸巳] 日柱[甲戌] 時柱[甲子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2024年2月4日 12時 (立春) - 女性 東京 | 年柱[甲辰] 月柱[乙卯] 日柱[戊戌] 時柱[戊午] | 年柱[甲辰] 月柱[乙卯] 日柱[戊戌] 時柱[乙午] | 年[✓] 月[✓] 日[✓] 時[✗] |
| 2023年2月3日 12時 - 女性 東京 | 年柱[壬寅] 月柱[癸丑] 日柱[壬辰] 時柱[丙午] | 年柱[壬寅] 月柱[癸丑] 日柱[壬辰] 時柱[癸午] | 年[✓] 月[✓] 日[✓] 時[✗] |
| 1924年1月1日 0時 - 男性 ソウル | 年柱[癸亥] 月柱[壬子] 日柱[丙戌] 時柱[甲子] | 年柱[癸亥] 月柱[甲子] 日柱[丁丑] 時柱[庚子] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 1984年1月1日 0時 - 男性 ソウル | 年柱[癸亥] 月柱[壬子] 日柱[辛酉] 時柱[甲子] | 年柱[癸亥] 月柱[甲子] 日柱[壬辰] 時柱[庚子] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 2044年1月1日 0時 - 男性 ソウル | 年柱[癸亥] 月柱[壬子] 日柱[乙未] 時柱[甲子] | 年柱[癸亥] 月柱[甲子] 日柱[丁未] 時柱[庚子] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 2022年1月31日 12時 - 男性 ソウル | 年柱[辛丑] 月柱[辛丑] 日柱[己卯] 時柱[丁巳] | 年柱[辛丑] 月柱[辛丑] 日柱[甲申] 時柱[丁午] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2022年2月1日 12時 - 男性 ソウル | 年柱[辛丑] 月柱[辛丑] 日柱[庚辰] 時柱[丁巳] | 年柱[壬寅] 月柱[辛丑] 日柱[乙酉] 時柱[己午] | 年[✗] 月[✓] 日[✗] 時[✗] |
| 2022年5月5日 0時 (立夏) - 女性 ソウル | 年柱[壬寅] 月柱[丁巳] 日柱[丁亥] 時柱[庚子] | 年柱[壬寅] 月柱[甲辰] 日柱[丙辰] 時柱[戊子] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 2022年5月5日 12時 (立夏) - 女性 ソウル | 年柱[壬寅] 月柱[丁巳] 日柱[丁亥] 時柱[丙午] | 年柱[壬寅] 月柱[乙巳] 日柱[戊午] 時柱[乙午] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 1986年7月1日 12時 - 男性 ソウル | 年柱[丙寅] 月柱[己未] 日柱[戊子] 時柱[丙午] | 年柱[丙寅] 月柱[甲午] 日柱[丙午] 時柱[辛午] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 1986年7月2日 12時 - 男性 ソウル | 年柱[丙寅] 月柱[己未] 日柱[己丑] 時柱[丙午] | 年柱[丙寅] 月柱[甲午] 日柱[丁未] 時柱[癸午] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 2022年11月15日 0時 (子の刻) - 女性 ソウル | 年柱[壬寅] 月柱[辛亥] 日柱[丁酉] 時柱[戊子] | 年柱[壬寅] 月柱[辛亥] 日柱[庚午] 時柱[丙子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2022年11月15日 12時 (午の刻) - 女性 ソウル | 年柱[壬寅] 月柱[辛亥] 日柱[丁酉] 時柱[甲午] | 年柱[壬寅] 月柱[辛亥] 日柱[壬申] 時柱[癸午] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年2月20日 12時 (閏月) - 男性 ソウル | 年柱[癸卯] 月柱[甲寅] 日柱[己未] 時柱[丙午] | 年柱[癸卯] 月柱[甲寅] 日柱[己酉] 時柱[丁午] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年3月1日 23時 (甲日の子刻近く) - 男性 ソウル | 年柱[癸卯] 月柱[甲寅] 日柱[甲戌] 時柱[甲亥] | 年柱[癸卯] 月柱[甲寅] 日柱[戊午] 時柱[癸亥] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年3月6日 0時 (己日の子刻) - 男性 ソウル | 年柱[癸卯] 月柱[甲寅] 日柱[己卯] 時柱[甲子] | 年柱[癸卯] 月柱[甲寅] 日柱[辛酉] 時柱[戊子] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年3月2日 12時 (乙日の午刻) - 男性 ソウル | 年柱[癸卯] 月柱[甲寅] 日柱[乙亥] 時柱[丙午] | 年柱[癸卯] 月柱[甲寅] 日柱[己未] 時柱[丁午] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年3月3日 12時 (丙日の午刻) - 男性 ソウル | 年柱[癸卯] 月柱[甲寅] 日柱[丙子] 時柱[戊午] | 年柱[癸卯] 月柱[甲寅] 日柱[庚申] 時柱[己午] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年3月4日 12時 (丁日の午刻) - 男性 ソウル | 年柱[癸卯] 月柱[甲寅] 日柱[丁丑] 時柱[庚午] | 年柱[癸卯] 月柱[甲寅] 日柱[辛酉] 時柱[辛午] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年3月5日 12時 (戊日の午刻) - 男性 ソウル | 年柱[癸卯] 月柱[甲寅] 日柱[戊寅] 時柱[壬午] | 年柱[癸卯] 月柱[甲寅] 日柱[壬戌] 時柱[癸午] | 年[✓] 月[✓] 日[✗] 時[✗] |
| 2023年7月15日 2時 - 男性 ソウル | 年柱[癸卯] 月柱[庚申] 日柱[壬午] 時柱[庚丑] | 年柱[癸卯] 月柱[己未] 日柱[甲戌] 時柱[甲子] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 2023年7月15日 4時 - 男性 ソウル | 年柱[癸卯] 月柱[庚申] 日柱[壬午] 時柱[壬寅] | 年柱[癸卯] 月柱[己未] 日柱[甲戌] 時柱[乙丑] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 2023年7月15日 6時 - 男性 ソウル | 年柱[癸卯] 月柱[庚申] 日柱[壬午] 時柱[甲卯] | 年柱[癸卯] 月柱[己未] 日柱[甲戌] 時柱[丁卯] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 2023年7月15日 8時 - 男性 ソウル | 年柱[癸卯] 月柱[庚申] 日柱[壬午] 時柱[丙辰] | 年柱[癸卯] 月柱[己未] 日柱[甲戌] 時柱[戊辰] | 年[✓] 月[✗] 日[✗] 時[✗] |
| 2023年7月15日 10時 - 男性 ソウル | 年柱[癸卯] 月柱[庚申] 日柱[壬午] 時柱[戊巳] | 年柱[癸卯] 月柱[己未] 日柱[甲戌] 時柱[己巳] | 年[✓] 月[✗] 日[✗] 時[✗] |

## 4. 改善が必要な主な問題点

テスト結果から、以下の主な問題点が特定されました：

1. **立春日の柱計算**: 2月4日前後の年柱計算で不一致が見られます。立春の時刻を正確に考慮した年柱切り替えロジックが必要です。

2. **時柱計算の韓国式対応**: 特に子の刻（23時-1時）の時干計算に不一致が見られます。日干に基づく時干マッピングの韓国式ルールに対応する必要があります。

3. **節気境界の特殊処理**: 立秋前、立夏前などの月柱計算に不一致が見られます。節気境界日の特殊処理ロジックを実装する必要があります。

## 5. 改善計画

1. **specialCaseHandler.ts** の実装拡張:
   - 立春日の特殊処理
   - 節気境界の処理
   - 韓国式時柱計算ルールの実装

2. **DateTimeProcessor** の精密化:
   - 経度に基づく地方時調整の精度向上
   - 日付変更対応の強化

3. **SajuEngine** の計算ロジック強化:
   - 立春時刻の正確な取得と反映
   - 干支境界の精密な処理
